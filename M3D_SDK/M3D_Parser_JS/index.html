<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <title>Load M3D</title>

    <script type="text/javascript" src="./libs/Cesium/Cesium.js"></script>
    <!-- <script type="text/javascript" src="./dist/m3d-layer-min.js"></script> -->
    <script type="text/javascript" src="./dist/m3d-layer-debug.js"></script>
</head>

<body>
    <style>
        @import url(libs/Cesium/Widgets/widgets.css);

        html,
        body,
        #cesiumContainer {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
    <div id="cesiumContainer" class="fullSize"></div>
    <script id="cesium_sandcastle_script">
        function startup(Cesium) {
            'use strict';

            const viewer = new Cesium.Viewer('cesiumContainer', {
                terrainExaggeration: 1,
                requestRenderMode: true,
                animation: true,
                timeline: true
            });

            // 加载文件服务数据
            let url = './data/景观_建筑模型/景观_建筑模型.mcj';
            CesiumZondy.M3D.appendM3D(viewer, url, 'file', { maximumScreenSpaceError: 8 });

            // 加载igs服务数据
            // url = 'http://develop.smaryun.com:6163/igs/rest/g3d/ZondyModels';
            // CesiumZondy.M3D.appendM3D(viewer, url, 'igs', { maximumScreenSpaceError: 8 });
        }

        if (typeof Cesium !== 'undefined') {
            startup(Cesium);
        } else if (typeof require === 'function') {
            require(['Cesium'], startup);
        }
    </script>
</body>

</html>
